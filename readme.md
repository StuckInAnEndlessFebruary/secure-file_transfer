# 🔐 Secure File Transfer System

## ویژگی‌های اصلی

- ارتباط امن بین کلاینت و سرور (Data Encryption In Transit)
- ذخیره‌سازی امن فایل‌ها در سرور (Data Encryption At Rest)
- امضای دیجیتال فایل‌ها برای تأیید صحت (Integrity via Digital Signatures)
- کنترل دسترسی بر اساس نقش کاربران (Role-Based Access Control)
- ثبت لاگ عملیات حساس
- محدودسازی تلاش‌های ناموفق ورود برای جلوگیری از حمله Brute Force

## ساختار فایل‌ها

```plaintext
.
├── client.py           # کلاینت برای تعامل با سرور
├── server.py           # سرور فایل مرکزی
├── initialize.py       # راه‌اندازی اولیه دیتابیس، کلیدها، کاربران
├── server_data.db      # دیتابیس SQLite برای کاربران و فایل‌ها
├── client_keys/        # کلیدهای خصوصی کاربران
├── server_files/       # فایل‌های رمزنگاری‌شده
├── server_logs.txt     # لاگ عملیات مهم با تایم‌استمپ
└── README.md           # این فایل
```

## پیش‌نیازها

- Python 3.8 یا بالاتر
- پکیج‌های مورد نیاز:

```bash
pip install cryptography
```

## راه‌اندازی و اجرا

### 1. آماده‌سازی اولیه (فقط یک بار)

```bash
python initialize.py
```

### 2. اجرای سرور

```bash
python server.py
```

### 3. اجرای کلاینت

```bash
python client.py
```

در کلاینت می‌تونی:

- با کاربران اولیه وارد شوی (`admin`, `maintainer`, `guest1` و...)
- یا با انتخاب گزینه "Sign Up" یک حساب جدید بسازی.

## امنیت

### الگوریتم‌های استفاده‌شده:

| الگوریتم              | کاربرد                            | دلیل انتخاب                               |
| --------------------- | --------------------------------- | ----------------------------------------- |
| **RSA** (2048-bit)    | تبادل کلید متقارن + امضای دیجیتال | امنیت بالا برای کلیدها و امکان اعتبارسنجی |
| **AES-GCM (256-bit)** | رمزنگاری ارتباط کلاینت و سرور     | سریع، امن و دارای tag برای صحت پیام       |
| **SHA-256**           | هش رمزهای عبور                    | مقاوم در برابر حملات dictionary           |

### کنترل دسترسی:

| نقش کاربر    | دسترسی‌ها                             |
| ------------ | ------------------------------------- |
| `admin`      | مدیریت کاربران، آپلود/دانلود/حذف فایل |
| `maintainer` | آپلود فایل، مدیریت فایل خود، دانلود   |
| `guest`      | فقط دانلود فایل‌ها                    |

### اقدامات امنیتی اضافی:

- ثبت لاگ عملیات‌های حساس (ورود، حذف فایل، تغییر نقش و...)
- محدود کردن تعداد تلاش ورود ناموفق برای جلوگیری از حملات brute-force
